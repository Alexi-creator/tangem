(()=>{"use strict";window.addEventListener("load",(()=>{!function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}()}));class e{static saveData(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){console.error("Error saving data to localStorage:",e)}}static getData(e){try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(e){return console.error("Error getting data from localStorage:",e),null}}static removeData(e){try{localStorage.removeItem(e)}catch(e){console.error("Error removing data from localStorage:",e)}}static clearAllData(){try{localStorage.clear()}catch(e){console.error("Error clearing all data from localStorage:",e)}}}class t{constructor({bannerTopSelector:t,bannerBottomSelector:o}){this.bannerTopSelector=t,this.bannerBottomSelector=o,this.closeSelector=".banner__cross",this.keyLs="isCloseBanner";const n=document.querySelector(this.bannerTopSelector);n&&(this.bannerTopElem=n);const r=document.querySelector(this.bannerBottomSelector);r&&(this.bannerBottomElem=r);const s=null==r?void 0:r.querySelector(this.closeSelector);if(s&&(this.closeElem=s),!this.bannerTopElem||!this.bannerBottomElem)throw new Error("the selector element was not found or not passed for the 'Banner' class");if(this.isCloseBanner=Boolean(e.getData(this.keyLs)),this.isCloseBanner)throw new Error("banner is already hidden");this.init()}init(){this.handlers()}closeBanner(){e.saveData(this.keyLs,!0),this.toggleActiveBanner(!0),this.isCloseBanner=!0}toggleActiveBanner(e){const t=`${this.bannerBottomSelector.substring(1)}--active`,o=`${this.bannerBottomSelector.substring(1)}--deactive`;e?(this.bannerBottomElem.classList.contains(t)&&this.bannerBottomElem.classList.add(o),this.bannerBottomElem.classList.remove(t)):(this.bannerBottomElem.classList.remove(o),this.bannerBottomElem.classList.add(t))}observerCallback(e){this.isCloseBanner||e.forEach((e=>{e.isIntersecting?this.toggleActiveBanner(!0):e.boundingClientRect.top<0&&e.rootBounds&&this.toggleActiveBanner(!1)}))}clickHandler(e){const t=e.target;this.closeElem.contains(t)&&this.closeBanner()}handlers(){document.addEventListener("click",(e=>this.clickHandler(e)))}}class o{constructor({element:e,callback:t,options:o}){e&&(this.element=e,this.callback=t,this.options=o,this.defaultOptions={root:null,rootMargin:"0px",threshold:0},this.init())}init(){new IntersectionObserver(this.callback,Object.assign(Object.assign({},this.defaultOptions),this.options)).observe(this.element)}}window.addEventListener("load",(()=>{try{const e=new t({bannerTopSelector:".banner-top",bannerBottomSelector:".banner-wrapper"});new o({element:e.bannerTopElem,callback:e.observerCallback.bind(e),options:{}})}catch(e){console.warn(e)}}))})();